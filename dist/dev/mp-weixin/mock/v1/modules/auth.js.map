{"version":3,"file":"auth.js","sources":["../../../../../../src/mock/v1/modules/auth.ts"],"sourcesContent":["import { defineMock } from '@alova/mock';\nimport { join, random, sampleSize } from 'lodash-es';\nimport multiavatar from '@multiavatar/multiavatar';\nimport { createMock } from '@/mock/utils';\nimport { ResultEnum } from '@/enums/httpEnum';\nimport { getRandomChsString } from '@/utils/character';\n\nfunction createRandomToken(len = 36 * 6) {\n  const token = join(sampleSize('0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ._-', len), '');\n  return `eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.${token}`;\n}\n\nexport const authMocks = defineMock({\n  // 登录\n  '[POST]/api/login': (params) => {\n    const { email, password } = params.data;\n    if (email === 'uni-app@test.com' && (password === 'Vue3_Ts_Vite' || password === '123456')) {\n      const token = createRandomToken();\n      return createMock({ data: { token } });\n    }\n    return createMock({ data: [], code: ResultEnum.FAIL, message: '邮箱或密码错误' });\n  },\n  // 获取用户信息\n  '[GET]/api/users': () => {\n    const generateNicknames = getRandomChsString(random(2, 6));\n    const svgCode = multiavatar(generateNicknames);\n    const base64SVG = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(\n      svgCode,\n    )}`;\n\n    return createMock({\n      data: {\n        id: 1,\n        nickname: generateNicknames,\n        avatar: base64SVG,\n        email: 'uni-app@test.com',\n      },\n    });\n  },\n});\n"],"names":["join","sampleSize","defineMock","createMock","ResultEnum","getRandomChsString","random","multiavatar"],"mappings":";AAOA,MAAA,gBAAA,QAAA,2BAAA,GAAA,aAAA,QAAA,gBAAA,GAAA,iBAAA,QAAA,4BAAA,GAAA,kBAAA,QAAA,6BAAA;AAAA,SAAS,kBAAkB,MAAM,KAAK,GAAG;AACvC,QAAM,QAAQA,cAAAA,EAAKC,cAAA,EAAW,qEAAqE,GAAG,GAAG,EAAE;AAC3G,SAAO,wCAAwC,KAAK;AACtD;AAEO,MAAM,YAAYC,cAAAA,EAAW;AAAA;AAAA,EAElC,oBAAoB,CAAC,WAAW;AAC9B,UAAM,EAAE,OAAO,aAAa,OAAO;AACnC,QAAI,UAAU,uBAAuB,aAAa,kBAAkB,aAAa,WAAW;AAC1F,YAAM,QAAQ;AACd,aAAOC,aAAW,EAAE,MAAM,EAAE,MAAA,EAAS,CAAA;AAAA,IACvC;AACO,WAAAA,WAAA,EAAW,EAAE,MAAM,IAAI,MAAMC,eAAW,EAAA,MAAM,SAAS,UAAA,CAAW;AAAA,EAC3E;AAAA;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,oBAAoBC,gBAAAA,EAAmBC,cAAAA,EAAO,GAAG,CAAC,CAAC;AACnD,UAAA,UAAUC,gBAAY,iBAAiB;AAC7C,UAAM,YAAY,oCAAoC;AAAA,MACpD;AAAA,IACD,CAAA;AAED,WAAOJ,aAAW;AAAA,MAChB,MAAM;AAAA,QACJ,IAAI;AAAA,QACJ,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,OAAO;AAAA,MACT;AAAA,IAAA,CACD;AAAA,EACH;AACF,CAAC;AAAA,QAAA,IAAA;"}