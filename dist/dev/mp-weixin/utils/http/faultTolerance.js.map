{"version":3,"file":"faultTolerance.js","sources":["../../../../../src/utils/http/faultTolerance.ts"],"sourcesContent":["import { Toast } from '@/utils/uniapi/prompt';\nimport { ResultEnum } from '@/enums/httpEnum';\n\n/**\n * Http错误处理\n * @param status\n * @param msg\n */\nexport function handleHttpStatus(status: number, msg: string): void {\n  let errMessage = null;\n  switch (status) {\n      case 400:\n        errMessage = `${msg}`;\n        break;\n        // 401: Not logged in\n        // Jump to the login page if not logged in, and carry the path of the current page\n        // Return to the current page after successful login. This step needs to be operated on the login page.\n      case 401:\n        errMessage = '用户没有权限（令牌、用户名、密码错误）!';\n        break;\n      case 403:\n        errMessage = '用户得到授权，但是访问是被禁止的!';\n        break;\n      case 404:\n        errMessage = '网络请求错误,未找到该资源!';\n        break;\n      case 405:\n        errMessage = '网络请求错误,请求方法未允许!';\n        break;\n      case 408:\n        errMessage = '网络请求超时!';\n        break;\n      case 500:\n        errMessage = '服务器错误,请联系管理员!';\n        break;\n      case 501:\n        errMessage = '网络未实现!';\n        break;\n      case 502:\n        errMessage = '服务不可用，服务器暂时过载或维护!';\n        break;\n      case 503:\n        errMessage = '服务不可用，服务器暂时过载或维护!';\n        break;\n      case 504:\n        errMessage = '网络超时!';\n        break;\n      case 505:\n        errMessage = 'http版本不支持该请求!';\n        break;\n      default:\n  }\n\n  if (errMessage) {\n    Toast(errMessage);\n  }\n}\n\n/**\n * 逻辑错误处理\n */\nexport function handleLogicError(errCode: ResultEnum, errMsg?: string) {\n  switch (errCode) {\n      case ResultEnum.ERROR:\n        // TODO ERROR处理\n        // ...\n        break;\n      case ResultEnum.FAIL:\n        // TODO FAIL处理\n        // ...\n        break;\n  }\n  if (errMsg) {\n    Toast(errMsg);\n  }\n}\n"],"names":["Toast","ResultEnum"],"mappings":";AAQgB,MAAA,sBAAA,QAAA,qBAAA,GAAA,iBAAA,QAAA,yBAAA;AAAA,SAAA,iBAAiB,QAAgB,KAAmB;AAClE,MAAI,aAAa;AACjB,UAAQ,QAAQ;AAAA,IACZ,KAAK;AACH,mBAAa,GAAG,GAAG;AACnB;AAAA,IAIF,KAAK;AACU,mBAAA;AACb;AAAA,IACF,KAAK;AACU,mBAAA;AACb;AAAA,IACF,KAAK;AACU,mBAAA;AACb;AAAA,IACF,KAAK;AACU,mBAAA;AACb;AAAA,IACF,KAAK;AACU,mBAAA;AACb;AAAA,IACF,KAAK;AACU,mBAAA;AACb;AAAA,IACF,KAAK;AACU,mBAAA;AACb;AAAA,IACF,KAAK;AACU,mBAAA;AACb;AAAA,IACF,KAAK;AACU,mBAAA;AACb;AAAA,IACF,KAAK;AACU,mBAAA;AACb;AAAA,IACF,KAAK;AACU,mBAAA;AACb;AAAA,EAEN;AAEA,MAAI,YAAY;AACdA,wBAAA,EAAM,UAAU;AAAA,EAClB;AACF;AAKgB,SAAA,iBAAiB,SAAqB,QAAiB;AACrE,UAAQ,SAAS;AAAA,IACb,KAAKC,eAAW,EAAA;AAGd;AAAA,IACF,KAAKA,eAAW,EAAA;AAGd;AAAA,EACN;AACA,MAAI,QAAQ;AACVD,wBAAA,EAAM,MAAM;AAAA,EACd;AACF;AAAA,QAAA,IAAA;AAAA,QAAA,IAAA;"}